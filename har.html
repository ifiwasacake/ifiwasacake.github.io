<!DOCTYPE html>
<html lang="vi">
<head>
<link rel="icon" href="https://i.imgur.com/dLnGoAd.jpg" type="image/png">
  <meta charset="UTF-8">
  <title>Fibi online ch·ªâ d√†nh cho x·ª≠ng h·∫•p</title>
  <style>
    body {
      font-family: 'Playfair Display';
      text-align: center;
      margin: 0;
      padding: 0;
      height: 100vh;
      background: linear-gradient(135deg, #ff9a9e, #fad0c4, #fbc2eb, #a18cd1);
      background-size: 400% 400%;
      animation: gradientBG 15s ease infinite;
    }
    @keyframes gradientBG {
      0%{background-position:0% 50%;}
      50%{background-position:100% 50%;}
      100%{background-position:0% 50%;}
    }
    .card {
      background: rgba(255,255,255,0.9);
      padding: 25px;
      border-radius: 20px;
      box-shadow: 0 10px 20px rgba(0,0,0,0.2);
      display: inline-block;
      margin-top: 50px;
      width: 400px;
      transition: transform 0.3s;
    }
    .card:hover { transform: scale(1.05); }
    h2 { color: #ff6f91; text-shadow: 2px 2px 5px #fff; }
    input {
      padding: 12px;
      margin-top: 10px;
      border-radius: 12px;
      border: 2px solid #ff6f91;
      width: 80%;
      font-size: 16px;
      text-align: center;
    }
    button {
      margin-top: 12px;
      padding: 12px 25px;
      border: none;
      border-radius: 12px;
      background: linear-gradient(45deg, #fbc2eb, #a6c1ee);
      color: white;
      font-weight: bold;
     font-size: 16px;
          cursor: pointer;
      transition: transform 0.2s, box-shadow 0.2s;
    }
    button:hover { transform: scale(1.1); box-shadow: 0 5px 15px rgba(0,0,0,0.3); }
    #message { font-weight: bold; font-size: 16px; margin-top: 10px; color: #ff6f91; }
    img { max-width: 100%; margin-top: 20px; border-radius: 15px; border: 3px solid #fff; box-shadow: 0 5px 15px rgba(0,0,0,0.3); transition: transform 0.3s; }
    img:hover { transform: scale(1.05); }

 #question {
    font-size: 20px;
    font-weight: bold;
    color: #f54266;

  </style>
</head>
<body>

<div class="card" id="quiz-card">
  <p>nh·ªõ vi·∫øt th∆∞·ªùng, ƒë·ªß d·∫•u, ƒë·ªß s·ªë nha</p>
  <p id="question"></p>
  <input type="text" id="answerInput" placeholder="nh·ªõ anh ch√≠p em ly n√≥i g√¨ h√¥ng n√®">
  <button onclick="checkAnswer()">check ƒëi n√®</button>
  <p id="message"></p>
  <div id="image-container"></div>
</div>

<!-- Confetti -->
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  <!-- Counter ch·ªâ ·ªü g√≥c d∆∞·ªõi -->
  <p id="counter">0/50 Fibi ƒë√£ ƒë∆∞·ª£c nh·∫≠n üéÅ</p>

<script>
  const maxVisits = 80
  let visitCount = localStorage.getItem('quizVisits') || 0;

 if(visitCount >= maxVisits){
    document.getElementById('quiz-card').innerHTML = "<h2>ui, fibi c·ªßa h√¥m nay h·∫øt m·∫•t r√πi :<</h2><p>h·∫πn c·∫£ nh√† v√†o ng√†y mai nha!</p>";
  } else {
    const questions = [
      {question: "·∫£nh nh·∫£y l·∫ßu lu√¥n r·ªìi, ·∫£nh nh·∫•t ƒë·ªãnh...", answer: "kh√¥ng t·ªõi v·ªõi em"},
      {question: "con th·ªè t·ªìi t·ªá, v√¥ t√¢m,...", answer: "kh√¥ng c√≥ tr√°i tim"},
      {question: "Ph√∫c nƒÉm nay l√† ... ch∆∞a?", answer: "30"},
      {question: "anh ƒë√£ b·ªã ƒëi·∫øc r·ªìi m√† c√≤n ... n·ªØa", answer: "ƒëeo khƒÉn"},
      {question: "ng∆∞·ªùi ta hi·ªÉu theo ki·ªÉu ... v·ªõi nhau th√¥i th√¨ s·∫Ω r·∫•t l√† vui", answer: "anh em b·∫°n b√®"},
      {question: "t·∫°i ... jun l√¢u r·ªìi", answer: "th√≠ch"},
      {question: "c·∫£ c·ªông ƒë·ªìng m·∫°ng, c·∫£ cu·ªôc ƒë·ªùi n√†y ...", answer: "ai c≈©ng bi·∫øt m√†"},
      {question: "ai l√† ... c·ªßa em?", answer: "ch√∫ em"}
    ];

    const images = [
      "https://i.imgur.com/rjXxMFR.jpg",
      "https://i.imgur.com/cRLTWCI.jpg",
      "https://i.imgur.com/Ah4KlEN.jpg",
      "https://i.imgur.com/wR0ePna.jpg",
     "https://i.imgur.com/OBmaH7R.jpg",
     "https://i.imgur.com/sCiavhX.jpg",
     "https://i.imgur.com/WCYsq0K.jpg",
     "https://i.imgur.com/8Tdqmsm.jpg",
     "https://i.imgur.com/r7tNCf2.jpg",
     "https://i.imgur.com/0WYyS1b.jpg",
     "https://i.imgur.com/8L83jfE.jpg",
     "https://i.imgur.com/AaNsi0j.jpg",
     "https://i.imgur.com/CbSHNWM.jpg",
     "https://i.imgur.com/LbRgJpg.jpg",
     "https://i.imgur.com/06GgbQm.jpg",
     "https://i.imgur.com/v7jNquR.jpg",

];

   const currentQuestion = questions[Math.floor(Math.random() * questions.length)];
    document.getElementById("question").textContent = currentQuestion.question;

    function checkAnswer(){
      const input = document.getElementById("answerInput").value.trim().toLowerCase();
      const message = document.getElementById("message");
      const container = document.getElementById("image-container");

      if(input === currentQuestion.answer.toLowerCase()){
        message.textContent = "ch√∫c m·ª´ng nha, fibi c·ªßa b·∫°n ƒë√¢yyyy";
        const randomImage = images[Math.floor(Math.random() * images.length)];
        container.innerHTML = `<img src="${randomImage}" alt="Random Image">`;

        // Confetti
        confetti({ particleCount: 150, spread: 70, origin: { y: 0.6 } });

      } else {
        message.textContent = "√≤ √≠ e, xem phao l·∫°i ƒëi nhaaa";
        container.innerHTML = "";
      }
     }

    const namespace = "quiz-surprise-fibi"; // üëâ ƒë·ªïi t√™n n√†y cho ri√™ng web c·ªßa b·∫°n
    const limit = 50; // s·ªë Fibi t·ªëi ƒëa

    async function updateCounter() {
      const res = await fetch(`https://api.countapi.xyz/hit/${namespace}/plays`);
      const data = await res.json();
      const newValue = data.value;
      document.getElementById("counter").textContent = `${newValue}/${limit} fibi ƒë√£ ƒë∆∞·ª£c nh·∫≠n üéÅ`;
    }

    // Load s·ªë ng∆∞·ªùi ch∆°i ban ƒë·∫ßu
    fetch(`https://api.countapi.xyz/get/${namespace}/plays`)
      .then(res => res.json())
      .then(data => {
        document.getElementById("counter").textContent = `${data.value}/${limit} Fibi ƒë√£ ƒë∆∞·ª£c nh·∫≠n üéÅ`;
      });

      document.getElementById("checkBtn").disabled = true;

      // üî• tƒÉng counter sau khi ng∆∞·ªùi ch∆°i b·∫•m check
      updateCounter();
    }

    function showRandomImage() {
      const randomImg = images[Math.floor(Math.random() * images.length)];
      document.getElementById("randomImage").src = randomImg;
      document.getElementById("surprise").style.display = "block";
    }
  </script>
</body>
</html>
